import{j as e}from"./jsx-runtime-CmtfZKef.js";import{r as j}from"./index-Dm8qopDP.js";import{L as N}from"./label-pJGNFEHw.js";import{B as b}from"./button-BIv8UjPY.js";import{c as u}from"./utils-CytzSlOG.js";const L=({id:r,label:x,value:o,onChange:i,accept:l,multiple:d=!1,required:m,error:a,helpText:c})=>{const n=j.useRef(null),f=t=>{const s=t.target.files;i(s)},h=()=>{n.current&&(n.current.value=""),i(null)},p=t=>{t.preventDefault(),t.stopPropagation()},g=t=>{t.preventDefault(),t.stopPropagation();const s=t.dataTransfer.files;s&&s.length>0&&(n.current&&(n.current.files=s),i(s))},v=o&&o.length>0;return e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:r,className:u("text-sm font-medium text-foreground",m&&"after:content-['*'] after:ml-1 after:text-destructive"),children:x}),e.jsxs("div",{className:u("relative border-2 border-dashed rounded-lg p-6 text-center transition-colors duration-200 cursor-pointer",a?"border-destructive bg-destructive/5":"border-input hover:border-accent-foreground hover:bg-accent/5","focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2"),onDragOver:p,onDrop:g,onClick:()=>{var t;return(t=n.current)==null?void 0:t.click()},"aria-describedby":a?`${r}-error`:c?`${r}-help`:void 0,children:[e.jsx("input",{ref:n,id:r,type:"file",onChange:f,required:m,accept:l,multiple:d,className:"hidden"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-muted-foreground",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),v?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-foreground",children:[o.length," file",o.length!==1?"s":""," selected"]}),e.jsx("div",{className:"text-xs text-muted-foreground space-y-1 max-h-20 overflow-y-auto",children:Array.from(o).map((t,s)=>e.jsxs("div",{className:"truncate",children:[t.name," (",(t.size/1024).toFixed(1)," KB)"]},s))}),e.jsx(b,{type:"button",variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),h()},className:"mt-2",children:"Clear files"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-foreground",children:[e.jsx("span",{className:"font-medium text-primary",children:"Click to upload"})," or drag and drop"]}),l&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Accepted: ",l]}),d&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple files allowed"})]})]})]}),a&&e.jsx("div",{id:`${r}-error`,className:"text-sm text-destructive",role:"alert",children:a}),c&&!a&&e.jsx("div",{id:`${r}-help`,className:"text-sm text-muted-foreground",children:c})]})};export{L as F};
