import{r as t,R as x}from"./index-B2-qRKKC.js";import{j as R}from"./jsx-runtime-DF2Pcvd1.js";import"./_commonjsHelpers-Cpj98o6Y.js";const M=t.createContext(null),U=({children:e,initialState:i={}})=>{const[a,m]=t.useState(i),d=t.useCallback(c=>{m(h=>({...h,...c}))},[]),s=t.useCallback((c,h)=>{m(l=>({...l,[c]:h}))},[]),r=t.useCallback(()=>{m(i)},[i]),f=t.useCallback(c=>a[c],[a]),u={uiState:a,updateUIState:d,setUIState:s,resetUIState:r,getUIState:f};return R.jsx(M.Provider,{value:u,children:e})},C=()=>{const e=t.useContext(M);if(!e)throw new Error("useDynamicUIState must be used within a DynamicUIStateProvider");return e},E=e=>{const{uiState:i}=C();return{...e,uiState:i}};try{U.displayName="DynamicUIStateProvider",U.__docgenInfo={description:`Provider for Dynamic UI state management
Manages conditional rendering state for Dynamic UI components`,displayName:"DynamicUIStateProvider",props:{}}}catch{}try{C.displayName="useDynamicUIState",C.__docgenInfo={description:`Hook to use Dynamic UI state
Must be used within a DynamicUIStateProvider`,displayName:"useDynamicUIState",props:{}}}catch{}try{E.displayName="useUIStateData",E.__docgenInfo={description:`Hook to get UI state for conditional rendering
Returns a data object that includes both regular data and uiState`,displayName:"useUIStateData",props:{}}}catch{}var k=["light","dark"],T="(prefers-color-scheme: dark)",A=typeof window>"u",P=t.createContext(void 0),H=e=>t.useContext(P)?e.children:t.createElement(V,{...e}),K=["light","dark"],V=({forcedTheme:e,disableTransitionOnChange:i=!1,enableSystem:a=!0,enableColorScheme:m=!0,storageKey:d="theme",themes:s=K,defaultTheme:r=a?"system":"light",attribute:f="data-theme",value:u,children:c,nonce:h})=>{let[l,p]=t.useState(()=>L(d,r)),[I,y]=t.useState(()=>L(d)),$=u?Object.values(u):s,_=t.useCallback(n=>{let o=n;if(!o)return;n==="system"&&a&&(o=N());let b=u?u[o]:o,D=i?J():null,w=document.documentElement;if(f==="class"?(w.classList.remove(...$),b&&w.classList.add(b)):b?w.setAttribute(f,b):w.removeAttribute(f),m){let j=k.includes(r)?r:null,O=k.includes(o)?o:j;w.style.colorScheme=O}D==null||D()},[]),g=t.useCallback(n=>{let o=typeof n=="function"?n(n):n;p(o);try{localStorage.setItem(d,o)}catch{}},[e]),S=t.useCallback(n=>{let o=N(n);y(o),l==="system"&&a&&!e&&_("system")},[l,e]);t.useEffect(()=>{let n=window.matchMedia(T);return n.addListener(S),S(n),()=>n.removeListener(S)},[S]),t.useEffect(()=>{let n=o=>{if(o.key!==d)return;let b=o.newValue||r;g(b)};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[g]),t.useEffect(()=>{_(e??l)},[e,l]);let v=t.useMemo(()=>({theme:l,setTheme:g,forcedTheme:e,resolvedTheme:l==="system"?I:l,themes:a?[...s,"system"]:s,systemTheme:a?I:void 0}),[l,g,e,I,a,s]);return t.createElement(P.Provider,{value:v},t.createElement(z,{forcedTheme:e,disableTransitionOnChange:i,enableSystem:a,enableColorScheme:m,storageKey:d,themes:s,defaultTheme:r,attribute:f,value:u,children:c,attrs:$,nonce:h}),c)},z=t.memo(({forcedTheme:e,storageKey:i,attribute:a,enableSystem:m,enableColorScheme:d,defaultTheme:s,value:r,attrs:f,nonce:u})=>{let c=s==="system",h=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${f.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,l=d?k.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,$=!1,_=!0)=>{let g=r?r[y]:y,S=$?y+"|| ''":`'${g}'`,v="";return d&&_&&!$&&k.includes(y)&&(v+=`d.style.colorScheme = '${y}';`),a==="class"?$||g?v+=`c.add(${S})`:v+="null":g&&(v+=`d[s](n,${S})`),v},I=e?`!function(){${h}${p(e)}}()`:m?`!function(){try{${h}var e=localStorage.getItem('${i}');if('system'===e||(!e&&${c})){var t='${T}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${r?`var x=${JSON.stringify(r)};`:""}${p(r?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${l}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${i}');if(e){${r?`var x=${JSON.stringify(r)};`:""}${p(r?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${l}}catch(t){}}();`;return t.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:I}})}),L=(e,i)=>{if(A)return;let a;try{a=localStorage.getItem(e)||void 0}catch{}return a||i},J=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},N=e=>(e||(e=window.matchMedia(T)),e.matches?"dark":"light");const q={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},backgrounds:{disable:!0},viewport:{viewports:{mobile:{name:"Mobile",styles:{width:"375px",height:"667px"}},tablet:{name:"Tablet",styles:{width:"768px",height:"1024px"}},desktop:{name:"Desktop",styles:{width:"1440px",height:"900px"}},wide:{name:"Wide Desktop",styles:{width:"1920px",height:"1080px"}}}}},decorators:[e=>x.createElement(H,{attribute:"class",defaultTheme:"light",enableSystem:!0,themes:["light","dark"],children:x.createElement(U,{initialState:{},children:x.createElement(e)})})],globalTypes:{theme:{description:"Global theme for components",defaultValue:"light",toolbar:{title:"Theme",icon:"paintbrush",items:[{value:"light",title:"Light",icon:"sun"},{value:"dark",title:"Dark",icon:"moon"}],dynamicTitle:!0}}}};export{q as default};
