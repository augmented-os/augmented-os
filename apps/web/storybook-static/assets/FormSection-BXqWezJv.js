import{j as a}from"./jsx-runtime-BT65X5dW.js";import{r as g}from"./index-C6mWTJJr.js";import{T}from"./TextInput-D1rd6FA3.js";import{N as I}from"./NumberInput-DNalEYdP.js";import{S as K,C as R}from"./SelectInput-bHGg1ngK.js";import{T as S}from"./TextareaInput-DTn6fcBx.js";import{B as N}from"./BooleanInput-BbQ8GhQ8.js";import{D as w}from"./DateInput-Cgcb2E7S.js";import{F as C}from"./FileInput-ltJkPhXW.js";import{M as E}from"./MultiSelectInput-BlXkhP6C.js";import{E as F}from"./EmailInput-BZWgOOXu.js";import{e as B}from"./conditions-CsAx6Gnl.js";import{c as v}from"./utils-CytzSlOG.js";import{c as k}from"./check-BvmRBcsD.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=k("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),D=({field:e,value:r,error:o,onChange:s,formData:i})=>{if(e.visibleIf&&!B(e.visibleIf,i))return null;const n=()=>{var l,p,u,c,m,d,x,h,b,y,q,j;switch(e.type){case"text":return a.jsx(T,{id:e.fieldKey,label:e.label,value:String(r??e.default??""),onChange:t=>s(t),type:"text",placeholder:e.placeholder,required:e.required||((l=e.validationRules)==null?void 0:l.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"email":return a.jsx(F,{id:e.fieldKey,label:e.label,value:String(r??e.default??""),onChange:t=>s(t),placeholder:e.placeholder,required:e.required||((p=e.validationRules)==null?void 0:p.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"number":return a.jsx(I,{id:e.fieldKey,label:e.label,value:typeof r=="number"?r:r===""?"":Number(r??e.default??""),onChange:t=>s(t),placeholder:e.placeholder,required:e.required||((u=e.validationRules)==null?void 0:u.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"select":return a.jsx(K,{id:e.fieldKey,label:e.label,value:String(r??e.default??""),onChange:t=>s(t),options:e.options||[],placeholder:e.placeholder,required:e.required||((c=e.validationRules)==null?void 0:c.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"multi-select":return a.jsx(E,{id:e.fieldKey,label:e.label,value:Array.isArray(r)?r:r?[String(r)]:e.default||[],onChange:t=>s(t),options:e.options||[],required:e.required||((m=e.validationRules)==null?void 0:m.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"textarea":return a.jsx(S,{id:e.fieldKey,label:e.label,value:String(r??e.default??""),onChange:t=>s(t),placeholder:e.placeholder,required:e.required||((d=e.validationRules)==null?void 0:d.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"boolean":return a.jsx(N,{id:e.fieldKey,label:e.label,value:!!(r??e.default??!1),onChange:t=>s(t),required:e.required||((x=e.validationRules)==null?void 0:x.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"date":return a.jsx(w,{id:e.fieldKey,label:e.label,value:String(r??e.default??""),onChange:t=>s(t),placeholder:e.placeholder,required:e.required||((h=e.validationRules)==null?void 0:h.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});case"file":return a.jsx(C,{id:e.fieldKey,label:e.label,value:r instanceof FileList?r:null,onChange:t=>s(t),accept:(b=e.customProps)==null?void 0:b.accept,multiple:(y=e.customProps)==null?void 0:y.multiple,required:e.required||((q=e.validationRules)==null?void 0:q.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText});default:return console.warn(`Unsupported field type: ${e.type}`),a.jsx(T,{id:e.fieldKey,label:e.label,value:String(r??e.default??""),onChange:t=>s(t),type:"text",placeholder:e.placeholder,required:e.required||((j=e.validationRules)==null?void 0:j.some(t=>typeof t=="object"?t.type==="required":t==="required")),error:o,helpText:e.helpText})}};return a.jsx("div",{className:v("space-y-2",o&&"text-destructive"),children:n()})},Y=({section:e,fields:r,formData:o,errors:s,onFieldChange:i})=>{const[n,l]=g.useState(e.defaultExpanded!==!1);return a.jsxs("div",{className:"border border-border rounded-lg overflow-hidden bg-card",children:[a.jsxs("div",{className:v("px-4 py-3 bg-muted/50 border-b border-border flex items-center justify-between",e.collapsible&&"cursor-pointer hover:bg-muted/70 transition-colors"),onClick:e.collapsible?()=>l(!n):void 0,children:[a.jsx("h3",{className:"text-lg font-medium text-foreground",children:e.title}),e.collapsible&&a.jsx("div",{className:"text-muted-foreground",children:n?a.jsx(R,{className:"h-4 w-4"}):a.jsx(A,{className:"h-4 w-4"})})]}),n&&a.jsx("div",{className:"p-4 space-y-4",children:r.map(p=>a.jsx(D,{field:p,value:o[p.fieldKey],error:s[p.fieldKey],onChange:u=>i(p.fieldKey,u),formData:o},p.fieldKey))})]})};export{Y as F,D as a};
