var ie=t=>{throw TypeError(t)};var te=(t,e,s)=>e.has(t)||ie("Cannot "+s);var r=(t,e,s)=>(te(t,e,"read from private field"),s?s.call(t):e.get(t)),y=(t,e,s)=>e.has(t)?ie("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),d=(t,e,s,i)=>(te(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),K=(t,e,s)=>(te(t,e,"access private method"),s);var X=(t,e,s,i)=>({set _(a){d(t,e,a,s)},get _(){return r(t,e,i)}});import{r as g,R as Y}from"./index-Dm8qopDP.js";import{S as ve,h as be,Q as Pe,n as C,m as re,R as Oe,c as Qe,a as ae,b as R,e as Ce,d as Me,f as Se,g as Ee,o as ne,r as oe,i as Te,j as ue,p as le,s as $e,k as ke}from"./QueryClientProvider-mz6q_e7V.js";import{D as De}from"./DynamicUIStateContext-BU6sB-Jv.js";import"./_commonjsHelpers-BosuxZz1.js";import"./jsx-runtime-CmtfZKef.js";var x,me,Ae=(me=class extends ve{constructor(e={}){super();y(this,x);this.config=e,d(this,x,new Map)}build(e,s,i){const a=s.queryKey,n=s.queryHash??be(a,s);let o=this.get(n);return o||(o=new Pe({client:e,queryKey:a,queryHash:n,options:e.defaultQueryOptions(s),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){r(this,x).has(e.queryHash)||(r(this,x).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=r(this,x).get(e.queryHash);s&&(e.destroy(),s===e&&r(this,x).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){C.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,x).get(e)}getAll(){return[...r(this,x).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(i=>re(s,i))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(i=>re(e,i)):s}notify(e){C.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){C.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){C.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},x=new WeakMap,me),q,Q,G,F,H,ye,xe=(ye=class extends Oe{constructor(e){super();y(this,F);y(this,q);y(this,Q);y(this,G);this.mutationId=e.mutationId,d(this,Q,e.mutationCache),d(this,q,[]),this.state=e.state||qe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){r(this,q).includes(e)||(r(this,q).push(e),this.clearGcTimeout(),r(this,Q).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){d(this,q,r(this,q).filter(s=>s!==e)),this.scheduleGc(),r(this,Q).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){r(this,q).length||(this.state.status==="pending"?this.scheduleGc():r(this,Q).remove(this))}continue(){var e;return((e=r(this,G))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,o,v,b,T,$,m,w,k,P,p,E,M,S,h,u,l,O,_,D;const s=()=>{K(this,F,H).call(this,{type:"continue"})};d(this,G,Qe({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(f,B)=>{K(this,F,H).call(this,{type:"failed",failureCount:f,error:B})},onPause:()=>{K(this,F,H).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,Q).canRun(this)}));const i=this.state.status==="pending",a=!r(this,G).canStart();try{if(i)s();else{K(this,F,H).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(n=r(this,Q).config).onMutate)==null?void 0:o.call(n,e,this));const B=await((b=(v=this.options).onMutate)==null?void 0:b.call(v,e));B!==this.state.context&&K(this,F,H).call(this,{type:"pending",context:B,variables:e,isPaused:a})}const f=await r(this,G).start();return await(($=(T=r(this,Q).config).onSuccess)==null?void 0:$.call(T,f,e,this.state.context,this)),await((w=(m=this.options).onSuccess)==null?void 0:w.call(m,f,e,this.state.context)),await((P=(k=r(this,Q).config).onSettled)==null?void 0:P.call(k,f,null,this.state.variables,this.state.context,this)),await((E=(p=this.options).onSettled)==null?void 0:E.call(p,f,null,e,this.state.context)),K(this,F,H).call(this,{type:"success",data:f}),f}catch(f){try{throw await((S=(M=r(this,Q).config).onError)==null?void 0:S.call(M,f,e,this.state.context,this)),await((u=(h=this.options).onError)==null?void 0:u.call(h,f,e,this.state.context)),await((O=(l=r(this,Q).config).onSettled)==null?void 0:O.call(l,void 0,f,this.state.variables,this.state.context,this)),await((D=(_=this.options).onSettled)==null?void 0:D.call(_,void 0,f,e,this.state.context)),f}finally{K(this,F,H).call(this,{type:"error",error:f})}}finally{r(this,Q).runNext(this)}}},q=new WeakMap,Q=new WeakMap,G=new WeakMap,F=new WeakSet,H=function(e){const s=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),C.batch(()=>{r(this,q).forEach(i=>{i.onMutationUpdate(e)}),r(this,Q).notify({mutation:this,type:"updated",action:e})})},ye);function qe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var I,A,W,pe,Fe=(pe=class extends ve{constructor(e={}){super();y(this,I);y(this,A);y(this,W);this.config=e,d(this,I,new Set),d(this,A,new Map),d(this,W,0)}build(e,s,i){const a=new xe({mutationCache:this,mutationId:++X(this,W)._,options:e.defaultMutationOptions(s),state:i});return this.add(a),a}add(e){r(this,I).add(e);const s=Z(e);if(typeof s=="string"){const i=r(this,A).get(s);i?i.push(e):r(this,A).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(r(this,I).delete(e)){const s=Z(e);if(typeof s=="string"){const i=r(this,A).get(s);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&r(this,A).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Z(e);if(typeof s=="string"){const i=r(this,A).get(s),a=i==null?void 0:i.find(n=>n.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const s=Z(e);if(typeof s=="string"){const a=(i=r(this,A).get(s))==null?void 0:i.find(n=>n!==e&&n.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){C.batch(()=>{r(this,I).forEach(e=>{this.notify({type:"removed",mutation:e})}),r(this,I).clear(),r(this,A).clear()})}getAll(){return Array.from(r(this,I))}find(e){const s={exact:!0,...e};return this.getAll().find(i=>ae(s,i))}findAll(e={}){return this.getAll().filter(s=>ae(e,s))}notify(e){C.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return C.batch(()=>Promise.all(e.map(s=>s.continue().catch(R))))}},I=new WeakMap,A=new WeakMap,W=new WeakMap,pe);function Z(t){var e;return(e=t.options.scope)==null?void 0:e.id}function he(t){return{onFetch:(e,s)=>{var $,m,w,k,P;const i=e.options,a=(w=(m=($=e.fetchOptions)==null?void 0:$.meta)==null?void 0:m.fetchMore)==null?void 0:w.direction,n=((k=e.state.data)==null?void 0:k.pages)||[],o=((P=e.state.data)==null?void 0:P.pageParams)||[];let v={pages:[],pageParams:[]},b=0;const T=async()=>{let p=!1;const E=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},M=Ce(e.options,e.fetchOptions),S=async(h,u,l)=>{if(p)return Promise.reject();if(u==null&&h.pages.length)return Promise.resolve(h);const O={client:e.client,queryKey:e.queryKey,pageParam:u,direction:l?"backward":"forward",meta:e.options.meta};E(O);const _=await M(O),{maxPages:D}=e.options,f=l?Me:Se;return{pages:f(h.pages,_,D),pageParams:f(h.pageParams,u,D)}};if(a&&n.length){const h=a==="backward",u=h?Re:ce,l={pages:n,pageParams:o},O=u(i,l);v=await S(l,O,h)}else{const h=t??n.length;do{const u=b===0?o[0]??i.initialPageParam:ce(i,v);if(b>0&&u==null)break;v=await S(v,u),b++}while(b<h)}return v};e.options.persister?e.fetchFn=()=>{var p,E;return(E=(p=e.options).persister)==null?void 0:E.call(p,T,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=T}}}function ce(t,{pages:e,pageParams:s}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,s[i],s):void 0}function Re(t,{pages:e,pageParams:s}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,s[0],s):void 0}var c,L,j,U,z,N,J,V,ge,Ie=(ge=class{constructor(t={}){y(this,c);y(this,L);y(this,j);y(this,U);y(this,z);y(this,N);y(this,J);y(this,V);d(this,c,t.queryCache||new Ae),d(this,L,t.mutationCache||new Fe),d(this,j,t.defaultOptions||{}),d(this,U,new Map),d(this,z,new Map),d(this,N,0)}mount(){X(this,N)._++,r(this,N)===1&&(d(this,J,Ee.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,c).onFocus())})),d(this,V,ne.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,c).onOnline())})))}unmount(){var t,e;X(this,N)._--,r(this,N)===0&&((t=r(this,J))==null||t.call(this),d(this,J,void 0),(e=r(this,V))==null||e.call(this),d(this,V,void 0))}isFetching(t){return r(this,c).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,L).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=r(this,c).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=r(this,c).build(this,e),i=s.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(oe(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return r(this,c).findAll(t).map(({queryKey:e,state:s})=>{const i=s.data;return[e,i]})}setQueryData(t,e,s){const i=this.defaultQueryOptions({queryKey:t}),a=r(this,c).get(i.queryHash),n=a==null?void 0:a.state.data,o=Te(e,n);if(o!==void 0)return r(this,c).build(this,i).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return C.batch(()=>r(this,c).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=r(this,c).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=r(this,c);C.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=r(this,c);return C.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},i=C.batch(()=>r(this,c).findAll(t).map(a=>a.cancel(s)));return Promise.all(i).then(R).catch(R)}invalidateQueries(t,e={}){return C.batch(()=>(r(this,c).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},i=C.batch(()=>r(this,c).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let n=a.fetch(void 0,s);return s.throwOnError||(n=n.catch(R)),a.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(i).then(R)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=r(this,c).build(this,e);return s.isStaleByTime(oe(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(R).catch(R)}fetchInfiniteQuery(t){return t.behavior=he(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(R).catch(R)}ensureInfiniteQueryData(t){return t.behavior=he(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ne.isOnline()?r(this,L).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,c)}getMutationCache(){return r(this,L)}getDefaultOptions(){return r(this,j)}setDefaultOptions(t){d(this,j,t)}setQueryDefaults(t,e){r(this,U).set(ue(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,U).values()],s={};return e.forEach(i=>{le(t,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(t,e){r(this,z).set(ue(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,z).values()],s={};return e.forEach(i=>{le(t,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,j).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=be(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$e&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,j).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,c).clear(),r(this,L).clear()}},c=new WeakMap,L=new WeakMap,j=new WeakMap,U=new WeakMap,z=new WeakMap,N=new WeakMap,J=new WeakMap,V=new WeakMap,ge),ee=["light","dark"],se="(prefers-color-scheme: dark)",Ke=typeof window>"u",we=g.createContext(void 0),He=t=>g.useContext(we)?t.children:g.createElement(je,{...t}),Le=["light","dark"],je=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:s=!0,enableColorScheme:i=!0,storageKey:a="theme",themes:n=Le,defaultTheme:o=s?"system":"light",attribute:v="data-theme",value:b,children:T,nonce:$})=>{let[m,w]=g.useState(()=>de(a,o)),[k,P]=g.useState(()=>de(a)),p=b?Object.values(b):n,E=g.useCallback(u=>{let l=u;if(!l)return;u==="system"&&s&&(l=fe());let O=b?b[l]:l,_=e?_e():null,D=document.documentElement;if(v==="class"?(D.classList.remove(...p),O&&D.classList.add(O)):O?D.setAttribute(v,O):D.removeAttribute(v),i){let f=ee.includes(o)?o:null,B=ee.includes(l)?l:f;D.style.colorScheme=B}_==null||_()},[]),M=g.useCallback(u=>{let l=typeof u=="function"?u(u):u;w(l);try{localStorage.setItem(a,l)}catch{}},[t]),S=g.useCallback(u=>{let l=fe(u);P(l),m==="system"&&s&&!t&&E("system")},[m,t]);g.useEffect(()=>{let u=window.matchMedia(se);return u.addListener(S),S(u),()=>u.removeListener(S)},[S]),g.useEffect(()=>{let u=l=>{if(l.key!==a)return;let O=l.newValue||o;M(O)};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[M]),g.useEffect(()=>{E(t??m)},[t,m]);let h=g.useMemo(()=>({theme:m,setTheme:M,forcedTheme:t,resolvedTheme:m==="system"?k:m,themes:s?[...n,"system"]:n,systemTheme:s?k:void 0}),[m,M,t,k,s,n]);return g.createElement(we.Provider,{value:h},g.createElement(Ne,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:s,enableColorScheme:i,storageKey:a,themes:n,defaultTheme:o,attribute:v,value:b,children:T,attrs:p,nonce:$}),T)},Ne=g.memo(({forcedTheme:t,storageKey:e,attribute:s,enableSystem:i,enableColorScheme:a,defaultTheme:n,value:o,attrs:v,nonce:b})=>{let T=n==="system",$=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${v.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,m=a?ee.includes(n)&&n?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${n}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(P,p=!1,E=!0)=>{let M=o?o[P]:P,S=p?P+"|| ''":`'${M}'`,h="";return a&&E&&!p&&ee.includes(P)&&(h+=`d.style.colorScheme = '${P}';`),s==="class"?p||M?h+=`c.add(${S})`:h+="null":M&&(h+=`d[s](n,${S})`),h},k=t?`!function(){${$}${w(t)}}()`:i?`!function(){try{${$}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${T})){var t='${se}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${w(o?"x[e]":"e",!0)}}${T?"":"else{"+w(n,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${$}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${w(o?"x[e]":"e",!0)}}else{${w(n,!1,!1)};}${m}}catch(t){}}();`;return g.createElement("script",{nonce:b,dangerouslySetInnerHTML:{__html:k}})}),de=(t,e)=>{if(Ke)return;let s;try{s=localStorage.getItem(t)||void 0}catch{}return s||e},_e=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},fe=t=>(t||(t=window.matchMedia(se)),t.matches?"dark":"light");const Ge=()=>new Ie({defaultOptions:{queries:{retry:!1,staleTime:1e3*60*5,gcTime:1e3*60*10}}}),Xe={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},backgrounds:{disable:!0},viewport:{viewports:{mobile:{name:"Mobile",styles:{width:"375px",height:"667px"}},tablet:{name:"Tablet",styles:{width:"768px",height:"1024px"}},desktop:{name:"Desktop",styles:{width:"1440px",height:"900px"}},wide:{name:"Wide Desktop",styles:{width:"1920px",height:"1080px"}}}}},decorators:[t=>{const e=Ge();return Y.createElement(ke,{client:e,children:Y.createElement(He,{attribute:"class",defaultTheme:"light",enableSystem:!0,themes:["light","dark"],children:Y.createElement(De,{initialState:{},children:Y.createElement(t)})})})}],globalTypes:{theme:{description:"Global theme for components",defaultValue:"light",toolbar:{title:"Theme",icon:"paintbrush",items:[{value:"light",title:"Light",icon:"sun"},{value:"dark",title:"Dark",icon:"moon"}],dynamicTitle:!0}}}};export{Xe as default};
