import{j as s}from"./jsx-runtime-BT65X5dW.js";import{L as b}from"./label-DL8xO4EN.js";import{C as v}from"./checkbox-DAvk8bKM.js";import{c as a}from"./utils-CytzSlOG.js";const k=({id:t,label:h,value:d,onChange:m,options:o,required:u,error:r,helpText:l})=>{const n=(e,i)=>{m(i?[...d,e]:d.filter(c=>c!==e))};return s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{htmlFor:t,className:a("text-sm font-medium text-foreground",u&&"after:content-['*'] after:ml-1 after:text-destructive"),children:h}),s.jsx("div",{id:t,className:a("border rounded-md bg-background",r?"border-destructive":"border-input"),"aria-describedby":r?`${t}-error`:l?`${t}-help`:void 0,children:o.length===0?s.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No options available"}):s.jsx("div",{className:"max-h-48 overflow-y-auto",children:o.map((e,i)=>{const c=d.includes(e.value),x=`${t}-option-${i}`;return s.jsxs("div",{className:a("flex items-center space-x-3 px-3 py-2 hover:bg-accent cursor-pointer","border-b border-border last:border-b-0",e.disabled&&"cursor-not-allowed opacity-50"),onClick:()=>!e.disabled&&n(e.value,!c),children:[s.jsx(v,{id:x,checked:c,onCheckedChange:f=>n(e.value,f===!0),disabled:e.disabled,className:a(r&&"border-destructive data-[state=checked]:bg-destructive")}),s.jsx(b,{htmlFor:x,className:"text-sm cursor-pointer flex-1",children:e.label})]},e.value)})})}),d.length>0&&!r&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",d.length," item",d.length!==1?"s":""]}),r&&s.jsx("div",{id:`${t}-error`,className:"text-sm text-destructive",role:"alert",children:r}),l&&!r&&s.jsx("div",{id:`${t}-help`,className:"text-sm text-muted-foreground",children:l})]})};export{k as M};
