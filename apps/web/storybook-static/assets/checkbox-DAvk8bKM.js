import{j as p}from"./jsx-runtime-BT65X5dW.js";import{r as i}from"./index-C6mWTJJr.js";import{u as I}from"./index-B5vUWwF_.js";import{u as S,a as G,b as K,d as O,e as V,f as X,C as $}from"./check-BvmRBcsD.js";import{P}from"./label-DL8xO4EN.js";import{c as T}from"./utils-CytzSlOG.js";function J(e,t){return i.useReducer((r,o)=>t[r][o]??r,e)}var j=e=>{const{present:t,children:r}=e,o=Q(t),s=typeof r=="function"?r({present:o.isPresent}):i.Children.only(r),n=I(o.ref,Y(s));return typeof r=="function"||o.isPresent?i.cloneElement(s,{ref:n}):null};j.displayName="Presence";function Q(e){const[t,r]=i.useState(),o=i.useRef(null),s=i.useRef(e),n=i.useRef("none"),C=e?"mounted":"unmounted",[h,c]=J(C,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const a=v(o.current);n.current=h==="mounted"?a:"none"},[h]),S(()=>{const a=o.current,l=s.current;if(l!==e){const d=n.current,f=v(a);e?c("MOUNT"):f==="none"||(a==null?void 0:a.display)==="none"?c("UNMOUNT"):c(l&&d!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),S(()=>{if(t){let a;const l=t.ownerDocument.defaultView??window,u=f=>{const x=v(o.current).includes(f.animationName);if(f.target===t&&x&&(c("ANIMATION_END"),!s.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",a=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},d=f=>{f.target===t&&(n.current=v(o.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{l.clearTimeout(a),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:i.useCallback(a=>{o.current=a?getComputedStyle(a):null,r(a)},[])}}function v(e){return(e==null?void 0:e.animationName)||"none"}function Y(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y="Checkbox",[Z,ue]=G(y),[ee,A]=Z(y);function te(e){const{__scopeCheckbox:t,checked:r,children:o,defaultChecked:s,disabled:n,form:C,name:h,onCheckedChange:c,required:a,value:l="on",internal_do_not_use_render:u}=e,[d,f]=K({prop:r,defaultProp:s??!1,onChange:c,caller:y}),[k,x]=i.useState(null),[g,m]=i.useState(null),b=i.useRef(!1),E=k?!!C||!!k.closest("form"):!0,R={checked:d,disabled:n,setChecked:f,control:k,setControl:x,name:h,form:C,value:l,hasConsumerStoppedPropagationRef:b,required:a,defaultChecked:N(s)?!1:s,isFormControl:E,bubbleInput:g,setBubbleInput:m};return p.jsx(ee,{scope:t,...R,children:ne(u)?u(R):o})}var U="CheckboxTrigger",L=i.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...o},s)=>{const{control:n,value:C,disabled:h,checked:c,required:a,setControl:l,setChecked:u,hasConsumerStoppedPropagationRef:d,isFormControl:f,bubbleInput:k}=A(U,e),x=I(s,l),g=i.useRef(c);return i.useEffect(()=>{const m=n==null?void 0:n.form;if(m){const b=()=>u(g.current);return m.addEventListener("reset",b),()=>m.removeEventListener("reset",b)}},[n,u]),p.jsx(P.button,{type:"button",role:"checkbox","aria-checked":N(c)?"mixed":c,"aria-required":a,"data-state":W(c),"data-disabled":h?"":void 0,disabled:h,value:C,...o,ref:x,onKeyDown:O(t,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:O(r,m=>{u(b=>N(b)?!0:!b),k&&f&&(d.current=m.isPropagationStopped(),d.current||m.stopPropagation())})})});L.displayName=U;var M=i.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:o,checked:s,defaultChecked:n,required:C,disabled:h,value:c,onCheckedChange:a,form:l,...u}=e;return p.jsx(te,{__scopeCheckbox:r,checked:s,defaultChecked:n,disabled:h,required:C,onCheckedChange:a,name:o,form:l,value:c,internal_do_not_use_render:({isFormControl:d})=>p.jsxs(p.Fragment,{children:[p.jsx(L,{...u,ref:t,__scopeCheckbox:r}),d&&p.jsx(q,{__scopeCheckbox:r})]})})});M.displayName=y;var D="CheckboxIndicator",F=i.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:o,...s}=e,n=A(D,r);return p.jsx(j,{present:o||N(n.checked)||n.checked===!0,children:p.jsx(P.span,{"data-state":W(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});F.displayName=D;var B="CheckboxBubbleInput",q=i.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:o,hasConsumerStoppedPropagationRef:s,checked:n,defaultChecked:C,required:h,disabled:c,name:a,value:l,form:u,bubbleInput:d,setBubbleInput:f}=A(B,e),k=I(r,f),x=V(n),g=X(o);i.useEffect(()=>{const b=d;if(!b)return;const E=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(E,"checked").set,H=!s.current;if(x!==n&&w){const z=new Event("click",{bubbles:H});b.indeterminate=N(n),w.call(b,N(n)?!1:n),b.dispatchEvent(z)}},[d,x,n,s]);const m=i.useRef(N(n)?!1:n);return p.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:C??m.current,required:h,disabled:c,name:a,value:l,form:u,...t,tabIndex:-1,ref:k,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});q.displayName=B;function ne(e){return typeof e=="function"}function N(e){return e==="indeterminate"}function W(e){return N(e)?"indeterminate":e?"checked":"unchecked"}const _=i.forwardRef(({className:e,...t},r)=>p.jsx(M,{ref:r,className:T("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:p.jsx(F,{className:T("flex items-center justify-center text-current"),children:p.jsx($,{className:"h-4 w-4"})})}));_.displayName=M.displayName;try{_.displayName="Checkbox",_.__docgenInfo={description:"",displayName:"Checkbox",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{_ as C};
